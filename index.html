<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ReLSPosed Downloads</title>

    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #f4f4f5;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
        }

        .container {
            text-align: center;
            max-width: 420px;
            width: 100%;
        }

        h1 {
            margin-bottom: 24px;
        }

        .buttons {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .btn {
            background: black;
            color: white;
            padding: 14px;
            border-radius: 8px;
            text-decoration: none;
            opacity: 0.6;
            pointer-events: none;
        }

        .btn.ready {
            opacity: 1;
            pointer-events: auto;
        }

        .filename {
            font-size: 12px;
            color: #666;
            margin-top: 4px;
            word-break: break-all;
        }

        .status {
            margin-top: 16px;
            font-size: 14px;
            color: #666;
        }
    </style>
</head>

<body>
<div class="container">
    <h1>ReLSPosed Downloads</h1>

    <div class="buttons">
        <div>
            <a id="releaseBtn" class="btn">Loading Release…</a>
            <div id="releaseName" class="filename"></div>
        </div>

        <div>
            <a id="debugBtn" class="btn">Loading Debug…</a>
            <div id="debugName" class="filename"></div>
        </div>
    </div>

    <div class="status" id="status">Fetching latest build…</div>
</div>

<script>
async function loadLatest() {
    const repo = "myst-25/ReLsposed-action-downloader";

    const res = await fetch(`https://api.github.com/repos/${repo}/releases/latest`);
    const data = await res.json();

    const release = data.assets.find(a => a.name.includes("zygisk-release"));
    const debug   = data.assets.find(a => a.name.includes("zygisk-debug"));

    const releaseBtn = document.getElementById("releaseBtn");
    const debugBtn   = document.getElementById("debugBtn");

    document.getElementById("releaseName").textContent = release.name;
    document.getElementById("debugName").textContent   = debug.name;

    releaseBtn.href = release.browser_download_url;
    debugBtn.href   = debug.browser_download_url;

    releaseBtn.textContent = "Download Release";
    debugBtn.textContent   = "Download Debug";

    releaseBtn.classList.add("ready");
    debugBtn.classList.add("ready");

    document.getElementById("status").textContent = "Latest: " + data.tag_name;
}

loadLatest();
</script>
</body>
</html>
